# Context_22_GuardiumRestAPI


# Script #1 : Running a report
Contains a fully working Python3 script for executing a RestAPI against a Guardium appliance to execute a report.

In particular in contains and execute all the Authentication part in python, something I have not found readily available.

It is also parameterized : 1 json file for connection information (sample added) and 1 json file for report parameters (sample added)

Don't forget to create first the secret and the client id from cli on the target appliance. 
grdapi register_oauth_client client_id=client_id1     - client_id is the SAME as application_id .....
see : https://www.ibm.com/developerworks/data/library/techarticle/dm-1404guardrestapi/index.html

Also the output generated by the restAPI is an array of JSON dictionaries, displayed 1 per line

Example :
- install python3 and optionally virtual env
- install libraires
- install python script Report_D.py - Optionally change its name)
- copy and edit parama_data.json, in the same directory. This file contains the connection information specific to your environment
- generate (optionally from sample TrafficVerif.json) the file containing the name of your report and its parameters
- run as follows:
     python3 Report_D.py TrafficVerif

# Script #2 : Restarting an STAP using GIM restAPI by updating the GIM parameters
script : Restart_C.py 

param file #1 : param_data.json - Mandatory - Update this file to include the connection information 
param file #2 : restart.json - name of your choice - first argument

This script takes 2 arguments : 1/ the file containing the parameter to change , 2/ the client name/ip to restart

example: python3 Restart_C.py restart.json xx.xx.xx.xx

The json file can contain any parameter to change and its value. The sample is for restarting an STAP. The push (install) is included and set at NOW


I tested those 2 scripts from a Linux server

Have fun.

